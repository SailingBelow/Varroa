<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Varroa-miden – Projekt & Overvågning</title>
  <meta name="description" content="DIY open source projekt: Kan man automatisk spotte varroamider ved stadeindgangen? Kameratunnel, OpenCV + YOLO og lagring i SQLite." />
  <style>
    :root{
      --bg: #0b1020;
      --card: #121832;
      --text: #e9eefc;
      --muted: #a9b4d6;
      --accent: #7aa2ff;
      --accent-2:#5b86ff;
      --ok:#6ee7a8;
      --warn:#ffd166;
      --bad:#ff6b6b;
      --maxw: 1024px;
      --radius: 16px;
      --shadow: 0 10px 28px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background: radial-gradient(1200px 800px at 10% 0%, #0f1734 0%, var(--bg) 60%);
      color:var(--text);
      line-height:1.6;
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:24px}
    header{
      position:relative;
      overflow:hidden;
      border-radius:calc(var(--radius) + 8px);
      background: linear-gradient(135deg, #0e1a3d 0%, #0b1020 60%);
      box-shadow:var(--shadow);
    }
    .hero{
      padding:64px 28px 52px 28px;
      display:grid;
      gap:18px;
    }
    .kicker{
      font-size:14px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:var(--muted);
    }
    h1{margin:0;font-size: clamp(28px, 5vw, 44px); line-height:1.15}
    .lead{font-size: clamp(16px, 2.2vw, 20px); color:var(--muted); max-width: 62ch}
    .cta{display:flex; gap:12px; flex-wrap:wrap; margin-top:8px}
    .btn{
      appearance:none; border:0; cursor:pointer;
      padding:12px 16px; border-radius:12px; font-weight:600;
      background:var(--accent); color:#0b1020; box-shadow:var(--shadow);
    }
    .btn.alt{
      background:transparent; color:var(--text); outline:1px solid #2a3869;
    }
    .grid{display:grid; gap:20px; margin-top:26px; grid-template-columns: repeat(12, 1fr);}
    .card{
      background: linear-gradient(180deg, #121832 0%, #0f1530 100%);
      border:1px solid #1f2a52;
      border-radius:var(--radius);
      padding:22px; box-shadow:var(--shadow);
    }
    .card h3{margin-top:0; margin-bottom:8px}
    .muted{color:var(--muted)}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      border-radius:999px; padding:6px 10px; font-size:13px; line-height:1;
      background:#0d1536; border:1px solid #233066; color:var(--muted)
    }
    .stat{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 0; border-bottom:1px dashed #243262}
    .stat:last-child{border-bottom:0}
    .dot{width:10px; height:10px; border-radius:50%}
    .ok{background:var(--ok)} .warn{background:var(--warn)} .bad{background:var(--bad)}
    footer{opacity:.8; font-size:14px; padding:32px 0 60px 0}

    /* Lille billede med popup */
    .img-small{
      max-width: 240px;
      width: 100%;
      height: auto;
      display: block;
      margin: 12px auto;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,.3);
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    .img-small:hover{
      transform: scale(1.03);
    }

    /* Popup billede */
    .popup{
      display: none;
      position: fixed;
      z-index: 999;
      padding-top: 60px;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.9);
    }
    .popup-content{
      margin: auto;
      display: block;
      max-width: 90%;
      max-height: 80vh;
      border-radius: 8px;
    }
    .close{
      position: absolute;
      top: 15px;
      right: 35px;
      color: #fff;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover{ color: #bbb; }

    @media (min-width: 800px){.hero{padding:72px 56px 56px 56px}}
    @media (min-width: 900px){
      .col-8{grid-column: span 8}
      .col-4{grid-column: span 4}
      .col-6{grid-column: span 6}
      .col-12{grid-column: span 12}
    }
    @media (max-width: 899px){.col-8,.col-4,.col-6,.col-12{grid-column:1 / -1}}
    .mesh{
      position:absolute; inset:-2px; pointer-events:none; opacity:.12;
      background-image: radial-gradient(#7aa2ff 0.6px, transparent 0.6px);
      background-size: 22px 22px;
      mask-image: linear-gradient(180deg, rgba(0,0,0,.9), rgba(0,0,0,0));
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="mesh" aria-hidden="true"></div>
      <div class="hero">
        <span class="kicker">Bier • Sundhed • AI</span>
        <h1>Kan man spotte varroamider automatisk? </h1>
        <p class="lead">
          Det er præcis det, jeg prøver at finde ud af med mit DIY open source projekt: nærbilleder i en lille indgangstunnel, analyse med computer, og løbende overblik uden at åbne Bistaden.
        </p>
        <div class="cta">
          <a class="btn" href="#projekt">Læs om projektet</a>
          <a class="btn alt" href="#kontakt">Kontakt</a>
        </div>
      </div>
    </header>

    <main>
      <section id="projekt" class="grid">
        <article class="card col-8">
          <h3>Projektbeskrivelse</h3>
          <p>
            Jeg er i gang med at bygge et system, der kan genkende varroamider på bier ved stadeindgangen – men teknikken kunne også bruges til at opdage andre insekter, som fx den asiatiske hveps.
          </p>

          <img src="bi.jpeg" alt="Billede af en bi fra de første kameratests" class="img-small" onclick="openPopup(this.src)" />

          <p>
            Bierne går igennem en lille tunnel, hvor jeg tager nærbilleder, og bagefter analyserer en computer billederne for mider.
            Her er billeder fra de allerførste test, hvor jeg leder efter den bedste lys- og kameraopsætning, så miderne bliver nemme at se.
            Det er stadig tidligt i projektet, men opløsningen ser lovende ud.
          </p>

          <h3>Sådan vil jeg gøre</h3>
          <ul>
            <li><strong>Stikprøver:</strong> starte med fx 100 bier i højsæsonen.</li>
            <li><strong>Analyse:</strong> Når en bi flyver gennem tunnelen, tager kameraet et billede i høj opløsning. OpenCV (et billedbehandlingsværktøj) bruges først til at finde selve bien i billedet, så baggrunden ignoreres. Derefter bruger systemet YOLO (en AI-model til objektdetektion) til at lede efter varroamider. Disse små, mørkebrune parasitter sidder ofte på bienes ryg eller mellem kropssegmenterne, og AI’en er trænet til at genkende dem ud fra form og farve. Hvis en mide registreres, gemmes billedet med dato, tid og en markering af, hvor miden sidder. På den måde kan udviklingen af varroa-niveauet følges over tid uden at åbne bistadet.</li>
            <li><strong>Lagring:</strong> resultater gemmes i en SQLite-database, så udviklingen kan følges over tid.</li>
            <li><strong>Visning:</strong> når systemet kører, laver jeg et link til de billeder, hvor der er fundet varroa.</li>
          </ul>

          <p>
            Målet er at opgradere til et bedre USB-makrokamera, men allerede nu kan jeg sidde hjemme og se mine bier flyve ind og ud.
          </p>
        </article>

        <aside class="card col-4" aria-label="Projektstatus">
          <div class="pill"><strong>Projektstatus</strong></div>
          <div class="stat">
            <span>Antal bifamilier</span>
            <strong>2</strong>
          </div>
          <div class="stat">
            <span>Systemfase</span>
            <strong>Første kameratests</strong>
          </div>
          <div class="stat">
            <span>Næste skridt</span>
            <strong>OpenCV + YOLO + SQLite</strong>
          </div>
          <div class="stat">
            <span>Plan for stikprøve</span>
            <strong>~100 bier / højsæson</strong>
          </div>

          <div class="pill" style="margin-top:20px;"><strong>DIY open source</strong></div>
          <p class="muted" style="margin-top:8px">Filer (kommer senere)</p>
        </aside>
      </section>

      <section class="grid" aria-label="Noter">
        <article class="card col-12">
          <h3>Kort fortalt</h3>
          <ul>
            <li>Målet er automatisk at spotte varroa ved indflyvningen.</li>
            <li>Kameratunnel giver kontrolleret lys og skarphed.</li>
            <li>AI markerer mulige varroa-fund; data gemmes til senere gennemgang.</li>
          </ul>
          <p class="muted">*Projektet er løbende i udvikling. Denne side opdateres, efterhånden som resultaterne kommer ind.</p>
        </article>
      </section>

      <section class="grid" id="kontakt" aria-label="Kontakt">
        <article class="card col-12">
          <h3>Kontakt</h3>
          <p>
            Har du input eller erfaring med automatisk insektdetektion? Skriv til mig:
            <a href="mailto:carsten@elkjaerinnovation.com">carsten@elkjaerinnovation.com</a>
          </p>
        </article>
      </section>
    </main>

    <footer class="wrap">
      <div class="muted">
        &copy; <span id="y"></span> Varroa-projektet • Denne side er statisk og hostes gratis.
      </div>
    </footer>
  </div>

  <div id="popup" class="popup" onclick="closePopup()">
    <span class="close" onclick="closePopup()">&times;</span>
    <img class="popup-content" id="popup-img" alt="Billede i fuld størrelse">
  </div>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    function openPopup(src) {
      document.getElementById("popup").style.display = "block";
      document.getElementById("popup-img").src = src;
    }
    function closePopup() {
      document.getElementById("popup").style.display = "none";
    }
  </script>
</body>
</html>
